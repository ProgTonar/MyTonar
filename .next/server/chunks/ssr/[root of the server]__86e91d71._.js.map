{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/dashboard/news/[id]/edit.module.scss.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"buttonGroup\": \"edit-module-scss-module__krn_Sa__buttonGroup\",\n  \"cancelButton\": \"edit-module-scss-module__krn_Sa__cancelButton\",\n  \"container\": \"edit-module-scss-module__krn_Sa__container\",\n  \"editor\": \"edit-module-scss-module__krn_Sa__editor\",\n  \"form\": \"edit-module-scss-module__krn_Sa__form\",\n  \"formGroup\": \"edit-module-scss-module__krn_Sa__formGroup\",\n  \"input\": \"edit-module-scss-module__krn_Sa__input\",\n  \"label\": \"edit-module-scss-module__krn_Sa__label\",\n  \"ql-container\": \"edit-module-scss-module__krn_Sa__ql-container\",\n  \"ql-editor\": \"edit-module-scss-module__krn_Sa__ql-editor\",\n  \"ql-toolbar\": \"edit-module-scss-module__krn_Sa__ql-toolbar\",\n  \"quillLoading\": \"edit-module-scss-module__krn_Sa__quillLoading\",\n  \"submitButton\": \"edit-module-scss-module__krn_Sa__submitButton\",\n  \"title\": \"edit-module-scss-module__krn_Sa__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 116, "column": 0}, "map": {"version":3,"sources":["file:///home/andrey/Projects/MyTonarFront/src/app/dashboard/news/%5Bid%5D/client.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef } from 'react'\nimport { useRouter } from 'next/navigation'\nimport type { INews } from \"@/type/Types\"\nimport styles from './edit.module.scss'\nimport Quill from 'quill'\nimport \"quill/dist/quill.snow.css\"\nimport axios from 'axios'\n\ninterface EditNewProps {\n  news: INews\n}\n\nconst EditNew = ({ news }: EditNewProps) => {\n  const router = useRouter()\n  const editorRef = useRef<HTMLDivElement>(null)\n  const quillRef = useRef<Quill | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [formData, setFormData] = useState({\n    title: news.title_one || '',\n    subtitle: news.title_two || '',\n    content: news.content || '',\n    description: news.description || '',\n    date: news.date || '',\n    imageSrc: news.imageSrc|| ''\n  })\n\n  useEffect(() => {\n    if (editorRef.current && !quillRef.current) {\n      const toolbarOptions = [\n        ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\n        ['blockquote', 'code-block'],\n\n        [{ 'list': 'ordered'}, { 'list': 'bullet' }],\n        [{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript\n        [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent\n\n        [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\n\n        [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults\n        [{ 'font': [] }],\n        [{ 'align': [] }],\n\n        ['clean']                                         // remove formatting button\n      ];\n\n      quillRef.current = new Quill(editorRef.current, {\n        modules: {\n           \n          toolbar: toolbarOptions\n        },\n        theme: 'snow'\n      });\n\n      // Устанавливаем начальное содержимое\n      if (formData.content) {\n        quillRef.current.root.innerHTML = formData.content;\n      }\n\n      // Подписываемся на изменения\n      quillRef.current.on('text-change', () => {\n        if (quillRef.current) {\n          setFormData(prev => ({\n            ...prev,\n            content: quillRef.current?.root.innerHTML || ''\n          }))\n        }\n      })\n    }\n\n    return () => {\n      if (quillRef.current) {\n        quillRef.current = null\n      }\n    }\n  }, [])\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target\n    setFormData(prev => ({ ...prev, [name]: value }))\n  }\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n  \n    try {\n      const token = localStorage.getItem('access_token');\n      \n      const response = await axios.post(\n        `http://localhost:9091/api/news/edit_detail/${news.id}`,\n        {\n          title_one: formData.title,\n          title_two: formData.subtitle,\n          content: formData.content,\n          description: formData.description,\n          date: formData.date,\n          imageSrc: formData.imageSrc,\n        },\n        {\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n          }\n        }\n      );\n  \n      if (response.status >= 200 && response.status < 300) {\n        router.push('/dashboard/news');\n      } else {\n        throw new Error('Ошибка сохранения');\n      }\n    } catch (error) {\n      console.error('Ошибка:', error);\n      alert('Не удалось сохранить изменения');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className={styles.container}>\n      <h1 className={styles.title}>Редактировать новость</h1>\n      \n      <form onSubmit={handleSubmit} className={styles.form}>\n        <div className={styles.formGroup}>\n          <label className={styles.label}>Заголовок</label>\n          <input\n            type=\"text\"\n            name=\"title\"\n            value={formData.title}\n            onChange={handleInputChange}\n            className={styles.input}\n            required\n          />\n        </div>\n\n        <div className={styles.formGroup}>\n          <label className={styles.label}>Подзаголовок</label>\n          <input\n            type=\"text\"\n            name=\"subtitle\"\n            value={formData.subtitle}\n            onChange={handleInputChange}\n            className={styles.input}\n          />\n        </div>\n\n        <div className={styles.formGroup}>\n          <label className={styles.label}>Краткое описание</label>\n          <input\n            type=\"text\"\n            name=\"description\"\n            value={formData.description}\n            onChange={handleInputChange}\n            className={styles.input}\n            required\n          />\n        </div>\n\n        <div className={styles.formGroup}>\n          <label className={styles.label}>Содержание</label>\n          <div className={styles.editor}>\n            <div ref={editorRef}></div>\n          </div>\n        </div>\n\n        <div className={styles.formGroup}>\n          <label className={styles.label}>Ссылка на изображение</label>\n          <input\n            type=\"text\"\n            name=\"imageSrc\"\n            value={formData.imageSrc}\n            onChange={handleInputChange}\n            className={styles.input}\n          />\n        </div>\n\n        <div className={styles.buttonGroup}>\n          <button\n            type=\"submit\"\n            disabled={isLoading}\n            className={styles.submitButton}\n          >\n            {isLoading ? 'Сохранение...' : 'Сохранить'}\n          </button>\n          \n          <button\n            type=\"button\"\n            onClick={() => router.push('/dashboard/news')}\n            className={styles.cancelButton}\n          >\n            Отмена\n          </button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default EditNew"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 485, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}
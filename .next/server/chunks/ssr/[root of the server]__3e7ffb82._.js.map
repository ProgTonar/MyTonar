{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/app/dashboard/news/News.module.scss.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"Image\": \"News-module-scss-module__ZrtHMq__Image\",\n  \"adminNotice\": \"News-module-scss-module__ZrtHMq__adminNotice\",\n  \"background__section\": \"News-module-scss-module__ZrtHMq__background__section\",\n  \"button-13-medium\": \"News-module-scss-module__ZrtHMq__button-13-medium\",\n  \"button-14-medium\": \"News-module-scss-module__ZrtHMq__button-14-medium\",\n  \"button-14-regular\": \"News-module-scss-module__ZrtHMq__button-14-regular\",\n  \"button-16-medium\": \"News-module-scss-module__ZrtHMq__button-16-medium\",\n  \"content\": \"News-module-scss-module__ZrtHMq__content\",\n  \"description\": \"News-module-scss-module__ZrtHMq__description\",\n  \"description-11-medium\": \"News-module-scss-module__ZrtHMq__description-11-medium\",\n  \"description-13-regular\": \"News-module-scss-module__ZrtHMq__description-13-regular\",\n  \"download-footer-13\": \"News-module-scss-module__ZrtHMq__download-footer-13\",\n  \"head-1\": \"News-module-scss-module__ZrtHMq__head-1\",\n  \"newBlock\": \"News-module-scss-module__ZrtHMq__newBlock\",\n  \"new__content\": \"News-module-scss-module__ZrtHMq__new__content\",\n  \"new__image\": \"News-module-scss-module__ZrtHMq__new__image\",\n  \"news__content\": \"News-module-scss-module__ZrtHMq__news__content\",\n  \"news__text\": \"News-module-scss-module__ZrtHMq__news__text\",\n  \"pagination-16-regular\": \"News-module-scss-module__ZrtHMq__pagination-16-regular\",\n  \"plates-14-medium\": \"News-module-scss-module__ZrtHMq__plates-14-medium\",\n  \"plates-14-regular\": \"News-module-scss-module__ZrtHMq__plates-14-regular\",\n  \"portals__header\": \"News-module-scss-module__ZrtHMq__portals__header\",\n  \"portals__title\": \"News-module-scss-module__ZrtHMq__portals__title\",\n  \"section\": \"News-module-scss-module__ZrtHMq__section\",\n  \"section__date\": \"News-module-scss-module__ZrtHMq__section__date\",\n  \"section__description\": \"News-module-scss-module__ZrtHMq__section__description\",\n  \"section__title\": \"News-module-scss-module__ZrtHMq__section__title\",\n  \"subtitle\": \"News-module-scss-module__ZrtHMq__subtitle\",\n  \"table-header-18\": \"News-module-scss-module__ZrtHMq__table-header-18\",\n  \"table-header-20\": \"News-module-scss-module__ZrtHMq__table-header-20\",\n  \"text\": \"News-module-scss-module__ZrtHMq__text\",\n  \"text-2\": \"News-module-scss-module__ZrtHMq__text-2\",\n  \"title-1\": \"News-module-scss-module__ZrtHMq__title-1\",\n  \"title-2\": \"News-module-scss-module__ZrtHMq__title-2\",\n  \"title-3\": \"News-module-scss-module__ZrtHMq__title-3\",\n  \"title-4\": \"News-module-scss-module__ZrtHMq__title-4\",\n  \"title-5\": \"News-module-scss-module__ZrtHMq__title-5\",\n  \"title-6\": \"News-module-scss-module__ZrtHMq__title-6\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///home/andrey/Projects/MyTonarFront/src/app/dashboard/news/client.tsx"],"sourcesContent":["'use client'\n\nimport { INews } from \"@/type/Types\";\nimport styles from './News.module.scss'\nimport { useRouter } from \"next/navigation\";\nimport { format, parse } from \"date-fns\";\nimport { ru } from \"date-fns/locale\";\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { toast, ToastContainer } from \"react-toastify\";\n\ninterface NewsProps {\n  news: INews[];\n}\n\nconst NewsDashboardClient = ({ news }: NewsProps) => {\n  const router = useRouter();\n  const [roles, setRoles] = useState<string[]>([]);\n  const [hasAdminAccess, setHasAdminAccess] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  const formatDate = (dateString: string) => {\n    const date = parse(dateString, \"dd MMMM yyyy\", new Date());\n    return format(date, \"dd MMMM yyyy\", { locale: ru });\n  };\n\n  useEffect(() => {\n    const getUserRoles = async () => {\n      try {\n        const token = localStorage.getItem('access_token');\n        \n        if (!token) {\n          throw new Error('Токен авторизации не найден');\n        }\n        \n        const response = await axios.post(\n          `http://localhost:9091/api/user/roles-and-permissions`, \n          {}, \n          {\n            headers: {\n              'Authorization': `Bearer ${token}`,\n              'Content-Type': 'application/json'\n            }\n          }\n        );\n        \n        const userRoles = response.data.roles || [];\n        setRoles(userRoles);\n        setHasAdminAccess(userRoles.includes('admin'));\n        \n      } catch (error) {\n        console.error('Ошибка при получении ролей и разрешений:', error);\n        setRoles([]);\n        setHasAdminAccess(false);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    getUserRoles();\n  }, []);\n\n  const handleNewsClick = (id: number) => {\n    if (hasAdminAccess) {\n      router.push(`/dashboard/news/${id}`, { scroll: false })\n    } else {\n     toast.error('У вас нет прав администратора для редактирования новостей');\n     \n    }\n  };\n\n  return (\n    <div className={styles.content}>\n        <ToastContainer />\n      {hasAdminAccess && (\n        <div className={styles.adminNotice}>\n          Режим администратора: вы можете редактировать и добавлять новости\n          <button onClick={() => router.push('/dashboard/addnew')}>Добавить новость</button>\n        </div>\n      )}\n      \n      <div className={styles.news__content}>\n        {news.map((newItem) => (\n          <div\n            key={newItem.id}\n            className={styles.section}\n            onClick={() => handleNewsClick(newItem.id)}\n          >\n            <div className={styles.newBlock}>\n              <div\n                className={styles.Image}\n                style={{\n                  backgroundImage: `url(${newItem.image_url})`,\n                  backgroundPosition: \"center\",\n                }}\n              ></div>\n              <div className={styles.content}>\n                <div className={styles.section__date}>\n                  {formatDate(newItem.date)}\n                </div>\n                <div className={styles.section__title}>{newItem.title_one}</div>\n                <div className={styles.section__description}>\n                  {newItem.description}\n                </div>\n               \n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default NewsDashboardClient;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 309, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}